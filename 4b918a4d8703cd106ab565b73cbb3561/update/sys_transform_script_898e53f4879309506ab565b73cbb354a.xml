<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_transform_script">
    <sys_transform_script action="INSERT_OR_UPDATE">
        <active>true</active>
        <map display_value="CyCognito Issues Transfer">d46d14c6878341506ab565b73cbb35bb</map>
        <order>100</order>
        <script><![CDATA[(function runTransformScript(source, map, log, target /*undefined onStart*/) {

    try {
        gs.include("CyCognitoConstants");
        var integrationProcess = new GlideRecord(VULNERABILITY_INTEGRATION_PROCESS);
        if (integrationProcess.get(x_cyin_cycognito.integrationProcessGr)) {
            integrationProcess.setValue('vi_created', x_cyin_cycognito.vul_item_created);
            integrationProcess.setValue('vi_updated', x_cyin_cycognito.vul_item_updated);
            integrationProcess.setValue('vi_ignored', x_cyin_cycognito.vul_item_ignored);
            integrationProcess.setValue('import_vi', x_cyin_cycognito.vul_item_created + x_cyin_cycognito.vul_item_updated + x_cyin_cycognito.vul_item_ignored);

            if (!integrationProcess.update()) {
                gs.error("Error occurred while updating Vulnerable Item count in Vulnerability Integration Process record having sys_id: " + x_cyin_cycognito.integrationProcessGr);
            }
        }
    } catch (e) {
        gs.error("[onComplete] Error while processing CyCognito Issues. Excepiton: " + e);

    }

})(source, map, log, target);]]></script>
        <sys_class_name>sys_transform_script</sys_class_name>
        <sys_created_by>tap-crestds</sys_created_by>
        <sys_created_on>2022-05-04 09:22:41</sys_created_on>
        <sys_id>898e53f4879309506ab565b73cbb354a</sys_id>
        <sys_mod_count>2</sys_mod_count>
        <sys_name>onComplete</sys_name>
        <sys_package display_value="CyCognito App for Vulnerability Response" source="x_cyin_cycognito">4b918a4d8703cd106ab565b73cbb3561</sys_package>
        <sys_policy/>
        <sys_scope display_value="CyCognito App for Vulnerability Response">4b918a4d8703cd106ab565b73cbb3561</sys_scope>
        <sys_update_name>sys_transform_script_898e53f4879309506ab565b73cbb354a</sys_update_name>
        <sys_updated_by>tap-crestds</sys_updated_by>
        <sys_updated_on>2022-05-06 13:42:57</sys_updated_on>
        <when>onComplete</when>
    </sys_transform_script>
</record_update>
